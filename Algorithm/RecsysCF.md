# 协同过滤

## UserCF 和 ItemCF 的区别和应用

UserCF 算法的特点是：

- 用户较少的场合，否则用户相似度矩阵计算代价很大
- 适合时效性较强，用户个性化兴趣不太明显的领域
- 对新用户不友好，对新物品友好，因为用户相似度矩阵不能实时计算
- 很难提供令用户信服的推荐解释

对应地，ItemCF 算法的特点：

- 适用于物品数明显小于用户数的场合，否则物品相似度矩阵计算代价很大
- 适合长尾物品丰富，用户个性化需求强的领域
- 对新用户友好，对新物品不友好，因为物品相似度矩阵不需要很强的实时性
- 利用用户历史行为做推荐解释，比较令用户信服

因此，可以看出 UserCF 适用于物品增长很快，实时性较高的场合，比如新闻推荐。
而在图书、电子商务和电影领域，比如京东、天猫、优酷中，ItemCF 则能极大地发挥优势。
在这些网站中，用户的兴趣是比较固定和持久的，而且这些网站的物品更新速度不会特别快，一天一更新是在忍受范围内的。


## 推荐系统应用现状

其实在现在的推荐系统中，很少有只使用了一个推荐策略的推荐引擎，
一般都是在不同的场景下使用不同的推荐策略从而达到最好的推荐效果。

例如 Amazon 的推荐：
它将基于用户本身历史购买数据的推荐，
和基于用户当前浏览的物品的推荐，
以及基于大众喜好的当下比较流行的物品都在不同的区域推荐给用户，
让用户可以从全方位的推荐中找到自己真正感兴趣的物品。


## k近邻算法

K最近邻(k-Nearest Neighbour，KNN)分类算法

多分类问题(multi-modal,对象具有多个类别标签)， kNN比SVM的表现要好


## 场景分析

基于订单的协同过滤，反映物品的关联程度
```
订单A: [item_01, item_02, item_03]
订单B: [item_01, item_03, item_04]
订单C: [item_01, item_02, item_04]
```

基于用户的协同过滤，反映物品的相似程度
```
用户A: [item_01, item_02, item_03]
用户B: [item_01, item_03, item_04]
用户C: [item_01, item_02, item_04]
```

一、用户可能感兴趣的物品
- 与用户相关的人感兴趣的物品（其他人也在关注）
- 与用户相关物品外相似的物品（类似的物品）

二、购买了某物品，可能还需要其它的物品
- 与订单中物品相关的其它物品

订单中物品数量越大，运算量越大
淘宝、天猫购物车商品数量2015年以前仅是50件，现在也只能放100件
不知道是不是有这方面考虑


## 实际项目中需要考虑的问题

需要用户行为收集，例如：
- 用户-物品的浏览量
- 用户-物品的关注量
- 用户-物品的订购量

收集时间，数据集样本大小会影响到推荐结果

已经下单的物品不能出现在推荐结果中

已经下架的物品不能出现在推荐结果中


## 协同过滤的缺点

- （1）用户对商品的评价非常稀疏，这样基于用户的评价所得到的用户间的相似性可能不准确（即稀疏性问题）;
- （2）随着用户和商品的增多，系统的性能会越来越低;
- （3）如果从来没有用户对某一商品加以评价，则这个商品就不可能被推荐（即最初评价问题）。


参考链接：

[非常的好的协同过滤入门文章](http://blog.163.com/lnhenrylee@126/blog/static/2414832520123269713813/)

[k近邻算法](https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm)
